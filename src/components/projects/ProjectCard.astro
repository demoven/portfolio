---
// Component for displaying a single project card
import { Image } from "astro:assets";
import type { CollectionEntry } from "astro:content";
import { getLogoByName } from "../../utils/techLogos";

interface Props {
    project: CollectionEntry<"projects">;
}

const { project } = Astro.props;
---

<a
    href={`/projects/${project.id}`}
    class="block group rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1 bg-white border border-zinc-100"
>
    <div class="relative overflow-hidden">
        <Image
            src={project.data.image}
            alt={project.data.title}
            width={600}
            height={400}
            class="w-full h-48 object-cover group-hover:scale-105 transition-transform duration-300"
        />
        <div
            class="absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"
        >
        </div>
        <span
            class="absolute bottom-3 left-3 px-3 py-1 bg-zinc-900 text-white text-xs font-bold rounded-full opacity-90"
        >
            {
                new Date(project.data.date).toLocaleDateString("en-US", {
                    year: "numeric",
                    month: "short",
                })
            }
        </span>
    </div>

    <div class="p-6">
        <h2
            class="text-xl font-bold text-zinc-900 mb-4 group-hover:text-indigo-600 transition-colors"
        >
            {project.data.title}
        </h2>

        <div class="flex flex-wrap gap-3">
            {
                project.data.technologies.map((tech: string) => {
                    const logo = getLogoByName(tech);
                    return (
                        <div
                            class="flex items-center justify-center p-1.5 rounded-lg bg-zinc-50 border border-zinc-100 shadow-sm"
                            title={tech}
                        >
                            {logo ? (
                                <Image
                                    src={logo}
                                    alt={tech}
                                    class="w-5 h-5 object-contain"
                                />
                            ) : (
                                <span class="text-[10px] font-bold text-zinc-400">
                                    {tech}
                                </span>
                            )}
                        </div>
                    );
                })
            }
        </div>
    </div>
</a>
